



## 1. 数据来源与版本说明

- https://data.rees46.com/datasets/marketplace/2019-Oct.csv.gz
- https://data.rees46.com/datasets/marketplace/2019-Nov.csv.gz
- https://data.rees46.com/datasets/marketplace/2019-Dec.csv.gz
- https://data.rees46.com/datasets/marketplace/2020-Jan.csv.gz
- https://data.rees46.com/datasets/marketplace/2020-Feb.csv.gz
- https://data.rees46.com/datasets/marketplace/2020-Mar.csv.gz
- https://data.rees46.com/datasets/marketplace/2020-Apr.csv.gz



本项目使用公开电商行为日志数据集：  
`kevykibbz/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019`[跳转网址](https://huggingface.co/datasets/kevykibbz/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019)（Hugging Face）

- 数据平台：Hugging Face Datasets  
- 数据格式：CSV  
- 仓库文件：`ecommerce-behavior-data-from-multi-category-store_oct-nov_2019.csv`（约 14.8 GB）  
- 本地落地路径：`data/raw/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019.csv`  

> 说明：该仓库 `README` 描述的是“285M 事件、2019-10 至 2020-04”，但当前 HF 仓库文件形态为单个 14.8GB CSV，Viewer 显示约 110M 行量级。论文中建议写明“**以实际下载并使用的数据文件为准**”。

---

## 2. 字段结构与业务含义

数据集包含 9 个核心字段：

| 字段名          | 类型             | 说明                                      |
| --------------- | ---------------- | ----------------------------------------- |
| `event_time`    | string/timestamp | 行为发生时间（UTC）                       |
| `event_type`    | string           | 行为类型（如 `view`、`cart`、`purchase`） |
| `product_id`    | int64            | 商品唯一标识                              |
| `category_id`   | int64            | 类目唯一标识                              |
| `category_code` | string           | 类目层级路径（可能为空）                  |
| `brand`         | string           | 品牌名（可能为空）                        |
| `price`         | float            | 商品价格                                  |
| `user_id`       | int64            | 用户唯一标识                              |
| `user_session`  | string           | 会话标识（用于会话级行为分析）            |

---

## 3. 数据粒度与分析口径

- 粒度：**一行代表一次用户-商品事件**。  
- 会话层：同一 `user_session` 下可能出现多条购买行为，可解释为同一会话中的多商品购买。  
- 行为漏斗：本项目按 `view -> cart -> purchase` 做转化分析。  
- 时间处理：`event_time` 转为标准时间戳后衍生日期分区字段 `dt`。  

---

## 4. 本项目中的数据使用方式

为兼顾复现效率与实验可控性，本项目流程为：

1. 原始 CSV 放入 `data/raw/`
2. 通过 `sample_data.py` 抽取目标月份（默认 `2019-10`）到 `data/dwd/sample_oct_2019`
3. ETL 生成 DWD 明细分区表 `data/dwd/user_behavior`
4. 分析层生成 ADS 指标（漏斗、留存、RFM、聚类）
5. 导出 Serving CSV（供 Streamlit 看板读取）

---

## 5. 数据质量与局限性说明

- `brand` 与 `category_code` 存在缺失，属于真实业务日志常见问题。  
- 原始日志规模较大，运行受本地内存与 Spark 参数影响明显。  
- 平台展示信息（README 口径）与实际文件规模可能存在差异，因此结果解释以“本地实际处理数据”作为准绳。  

---

## 6. 合规与引用说明

本项目仅用于教学与科研目的，遵循公开数据集引用规范，结果展示为聚合统计，不涉及个人隐私还原。

---

### 参考链接（建议放论文参考资料）
- 数据集主页：  
  https://huggingface.co/datasets/kevykibbz/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019
- 数据集 README：  
  https://huggingface.co/datasets/kevykibbz/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019/blob/main/README.md
- 文件列表：  
  https://huggingface.co/datasets/kevykibbz/ecommerce-behavior-data-from-multi-category-store_oct-nov_2019/tree/main
