<h1 align="center"># EcoPulse: Intelligent Ecommerce Analytics Platform

  EcoPulse> **åŸºäº Spark çš„äº¿çº§ç”µå•†ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æä¸å¯è§†åŒ–ç³»ç»Ÿ**

</h1>

![License](https://img.shields.io/badge/license-MIT-blue.svg)

<p align="center">![Python](https://img.shields.io/badge/python-3.8%2B-blue)

  <strong>åŸºäº Spark çš„äº¿çº§ç”µå•†ç”¨æˆ·è¡Œä¸ºæ·±åº¦åˆ†æä¸å¯è§†åŒ–ç³»ç»Ÿ</strong>![Spark](https://img.shields.io/badge/spark-3.5.3-orange)

</p>![Streamlit](https://img.shields.io/badge/streamlit-1.54.0-red)



<p align="center">EcoPulse æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç”µå•†æ•°æ®æ™ºèƒ½åˆ†æå¹³å°ï¼Œæ—¨åœ¨é€šè¿‡å¤§æ•°æ®æŠ€æœ¯è§£å†³æµ·é‡ç‚¹å‡»æµæ•°æ®çš„ä»·å€¼æŒ–æ˜éš¾é¢˜ã€‚é¡¹ç›®é‡‡ç”¨ç»å…¸çš„æ•°ä»“åˆ†å±‚æ¶æ„ï¼Œå®ç°äº†ä»åŸå§‹æ—¥å¿—æ¸…æ´—ã€ç”¨æˆ·ç”»åƒå»ºæ¨¡ï¼ˆRFM/K-Meansï¼‰åˆ°äº¤äº’å¼å¯è§†åŒ–çœ‹æ¿çš„å…¨é“¾è·¯é—­ç¯ï¼Œä¸ºä¸šåŠ¡å†³ç­–æä¾›ç²¾å‡†çš„æ•°æ®æ”¯æ’‘ã€‚

  <img src="https://img.shields.io/badge/python-3.8+-3776AB?logo=python&logoColor=white" alt="Python">

  <img src="https://img.shields.io/badge/PySpark-3.5.3-E25A1C?logo=apachespark&logoColor=white" alt="Spark">---

  <img src="https://img.shields.io/badge/Streamlit-1.41+-FF4B4B?logo=streamlit&logoColor=white" alt="Streamlit">

  <img src="https://img.shields.io/badge/Plotly-5.20+-3F4F75?logo=plotly&logoColor=white" alt="Plotly">## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§ (Key Features)

  <img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License">

</p>### 1. æ·±åº¦ç”¨æˆ·æ´å¯Ÿ

- **å¤šç»´ç”¨æˆ·ç”»åƒ**: åŸºäº **RFM æ¨¡å‹**ï¼ˆRecency, Frequency, Monetaryï¼‰å°†ç”¨æˆ·ç²¾å‡†åˆ’åˆ†ä¸º 8 ç±»ä»·å€¼åˆ†å±‚ï¼ˆå¦‚ Champions, At Riskï¼‰ã€‚

---- **æ™ºèƒ½èšç±»åˆ†æ**: é›†æˆ **K-Means ç®—æ³•**ï¼Œè‡ªåŠ¨è¯†åˆ«ç”¨æˆ·ç¾¤ä½“çš„æ½œåœ¨ç‰¹å¾ï¼Œè¾…åŠ©ç²¾ç»†åŒ–è¿è¥ã€‚

- **ç•™å­˜çƒ­åŠ›å›¾**: è‡ªåŠ¨è®¡ç®— Cohort Analysisï¼ˆåŒæœŸç¾¤åˆ†æï¼‰ï¼Œç›´è§‚å±•ç¤ºç”¨æˆ·ç”Ÿå‘½å‘¨æœŸå†…çš„ç•™å­˜è¡°å‡ã€‚

## é¡¹ç›®ç®€ä»‹

### 2. å…¨é“¾è·¯è½¬åŒ–åˆ†æ

EcoPulse æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„ç”µå•†æ•°æ®æ™ºèƒ½åˆ†æå¹³å°ï¼Œé¢å‘ **REES46 å¤šå“ç±»ç”µå•†ç‚¹å‡»æµæ•°æ®é›†**ï¼ˆ2019-10 è‡³ 2020-04ï¼Œæ€»é‡è¶… 2 äº¿æ¡è®°å½•ï¼‰ï¼Œå®ç°äº†ä»åŸå§‹æ—¥å¿—æ¸…æ´—ã€æ•°ä»“åˆ†å±‚å»ºè®¾ã€ç”¨æˆ·ç”»åƒå»ºæ¨¡åˆ°äº¤äº’å¼å¯è§†åŒ–çœ‹æ¿çš„ **100% Python å…¨é“¾è·¯é—­ç¯**ã€‚- **æ¼æ–—æ¨¡å‹ (Funnel)**: è¿½è¸ª `View -> Cart -> Purchase` æ ¸å¿ƒè·¯å¾„ï¼Œç²¾å‡†å®šä½æµå¤±èŠ‚ç‚¹ã€‚

- **å½’å› åˆ†æ**: æ”¯æŒæŒ‰å“ç‰Œã€å“ç±»ç­‰å¤šç»´åº¦ä¸‹é’»ï¼Œè¯†åˆ«é«˜è½¬åŒ–ä¸ä½è½¬åŒ–ç‰¹å¾ã€‚

### æ ¸å¿ƒèƒ½åŠ›

### 3. é«˜æ€§èƒ½æ¶æ„

| èƒ½åŠ› | è¯´æ˜ |- **åˆ†å¸ƒå¼è®¡ç®—**: åŸºäº **PySpark** å¼•æ“ï¼Œæ”¯æŒäº¿çº§æ•°æ®çš„é«˜æ•ˆæ¸…æ´—ä¸èšåˆã€‚

|:-----|:-----|- **åˆ—å¼å­˜å‚¨ä¼˜åŒ–**: é‡‡ç”¨ **Parquet (Snappy)** æ ¼å¼ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾ƒä¼ ç»Ÿ CSV æå‡ 10 å€ä»¥ä¸Šã€‚

| **æ•°ä»“åˆ†å±‚æ¶æ„** | Raw â†’ DWD â†’ ADS â†’ Serving å››å±‚æµè½¬ï¼ŒParquet åˆ—å¼å­˜å‚¨ï¼ŒæŸ¥è¯¢æ€§èƒ½è¾ƒ CSV æå‡ **10-17 å€** |- **å·¥ç¨‹åŒ–çœ‹æ¿**: é‡‡ç”¨ **CoreCode6** å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡ GPU ç¡¬ä»¶åŠ é€Ÿä¸å®¢æˆ·ç«¯æ¸²æŸ“æŠ€æœ¯ï¼Œå®ç° 60FPS æµç•…äº¤äº’ã€‚

| **RFM ç”¨æˆ·åˆ†å±‚** | åŸºäº Recency / Frequency / Monetary ä¸‰ç»´æ‰“åˆ†ï¼Œåˆ’åˆ†ä¸º **8 ç±»** ç²¾ç»†åŒ–ç”¨æˆ·ç¾¤ä½“ |

| **K-Means èšç±»** | å¯¹ RFM ç‰¹å¾åš Log è½¬æ¢ + æ ‡å‡†åŒ–åæ— ç›‘ç£èšç±»ï¼Œè½®å»“ç³»æ•° 0.478ï¼Œè¯†åˆ«å‡º 4 å¤§æ ¸å¿ƒå®¢ç¾¤ |---

| **è½¬åŒ–æ¼æ–—åˆ†æ** | View â†’ Cart â†’ Purchase å…¨é“¾è·¯è¿½è¸ªï¼Œæ”¯æŒå“ç‰Œ/å“ç±»å¤šç»´ä¸‹é’» |

| **Cohort ç•™å­˜åˆ†æ** | æŒ‰é¦–è´­æ—¥æœŸåˆ†ç»„ï¼Œè®¡ç®—æ¬¡æ—¥/3 æ—¥/7 æ—¥ç•™å­˜ç‡ï¼Œé‡åŒ–ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç²˜æ€§ |## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ (System Architecture)

| **æ•°æ®å€¾æ–œæ²»ç†** | ä¸¤é˜¶æ®µåŠ ç›èšåˆ (Salting) æŠ€æœ¯ï¼Œçƒ­ç‚¹ Key åœºæ™¯æ€§èƒ½æå‡ **16.3%** |

| **åŠ¨ç”»å¯è§†åŒ–çœ‹æ¿** | requestAnimationFrame é©±åŠ¨çš„æ•°å€¼é€’å¢ã€é›·è¾¾è¾å°„ã€æŸ±çŠ¶ç”Ÿé•¿åŠ¨ç”»å¼•æ“ |EcoPulse éµå¾ªæ ‡å‡†çš„æ•°ä»“åˆ†å±‚è®¾è®¡ï¼Œç¡®ä¿æ•°æ®æµè½¬çš„è§„èŒƒæ€§ä¸å¯ç»´æŠ¤æ€§ï¼š



---```mermaid

graph LR

## ç³»ç»Ÿæ¶æ„    Raw[Raw Data (CSV)] --> ODS[ODS Layer]

    ODS --> ETL((Spark ETL))

```    ETL --> DWD[DWD Layer (Parquet)]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    DWD --> DWS[DWS Layer (Aggregated)]

â”‚                        EcoPulse æ•°æ®æµè½¬æ¶æ„                      â”‚    DWS --> ADS[ADS Layer (Metrics)]

â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    ADS --> Serving[Serving Layer (CSV)]

â”‚  Raw    â”‚  DWD    â”‚   ADS    â”‚ Serving  â”‚      Dashboard         â”‚    Serving --> Dashboard[Streamlit Dashboard]

â”‚  Layer  â”‚  Layer  â”‚  Layer   â”‚  Layer   â”‚      (CoreCode6)       â”‚```

â”‚         â”‚         â”‚          â”‚          â”‚                        â”‚

â”‚ CSV     â”‚Parquet  â”‚ Parquet  â”‚  CSV     â”‚  Streamlit + Plotly    â”‚| å±‚çº§ | ç›®å½• | æè¿° | æŠ€æœ¯æ ˆ |

â”‚ åŸå§‹æ—¥å¿— â”‚å»é‡/æ¸…æ´— â”‚RFM/æ¼æ–—  â”‚ è½»é‡å¯¼å‡º  â”‚  åŠ¨ç”»å¼•æ“ + æ·±è‰²ä¸»é¢˜    â”‚| :--- | :--- | :--- | :--- |

â”‚         â”‚åˆ†åŒºå­˜å‚¨  â”‚ç•™å­˜/èšç±»  â”‚          â”‚                        â”‚| **Raw** | `data/raw/` | åŸå§‹ç”µå•†ç‚¹å‡»æµæ—¥å¿— | CSV |

â”‚ 2äº¿+æ¡  â”‚4200ä¸‡æ¡ â”‚ 34.7ä¸‡   â”‚ 69.5ä¸‡è¡Œ â”‚  3 é¡µäº¤äº’çœ‹æ¿           â”‚| **DWD** | `data/dwd/` | æ¸…æ´—åçš„æ˜ç»†æ•°æ®ï¼ˆå»é‡/ç±»å‹è½¬æ¢ï¼‰ | Parquet |

â”‚         â”‚         â”‚  ç”¨æˆ·    â”‚ 0.31s    â”‚                        â”‚| **ADS** | `data/ads/` | ä¸šåŠ¡æŒ‡æ ‡ç»“æœï¼ˆæ¼æ–—/ç•™å­˜/RFMï¼‰ | Parquet |

â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜| **Serving** | `data/serving/` | é¢å‘çœ‹æ¿çš„è½»é‡çº§ç»“æœé›† | CSV (Optimized) |

     â”‚         â”‚         â”‚         â”‚| **View** | `CoreCode6/` | äº¤äº’å¼å¯è§†åŒ–å‰å° | Streamlit + Plotly |

  CoreCode  CoreCode2  CoreCode3  scripts/

  Phase 1   Phase 2    Phase 3   prepare_serving_data.py---

  æ•°æ®æ¢ç´¢   ETLæ¸…æ´—    æŒ‡æ ‡è®¡ç®—

            CoreCode4  CoreCode5## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

            Phase 4    Phase 5

            ML+ä¼˜åŒ–    å¯¼å‡ºåŸå‹### å‰ç½®è¦æ±‚

```- Windows 10/11 (æ¨è) æˆ– Linux/macOS

- Python 3.8+

| å±‚çº§ | ç›®å½• | æè¿° | æ ¼å¼ |- Java JDK 1.8+ (ç”¨äº Spark)

|:-----|:-----|:-----|:-----|

| **Raw** | `data/row/` | åŸå§‹ç”µå•†ç‚¹å‡»æµæ—¥å¿— (7 ä¸ªæœˆåº¦æ–‡ä»¶) | CSV |### 1. ç¯å¢ƒåˆå§‹åŒ–

| **DWD** | `data/dwd/` | æ¸…æ´—åæ˜ç»†æ•°æ® (å»é‡ 3 ä¸‡æ¡ / æ ‡è®°å¼‚å¸¸ 6.8 ä¸‡æ¡ / æŒ‰æ—¥æœŸåˆ†åŒº) | Parquet |é¡¹ç›®æä¾›äº†è‡ªåŠ¨åŒ–çš„ç¯å¢ƒé…ç½®è„šæœ¬ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰“å¼€ç»ˆç«¯ï¼ˆPowerShellï¼‰ï¼š

| **ADS** | `data/ads/` | ä¸šåŠ¡æŒ‡æ ‡ (æ¼æ–—ç»Ÿè®¡ / ç”¨æˆ·ç•™å­˜ / RFM åˆ†å±‚ / K-Means èšç±») | Parquet |

| **Serving** | `data/serving/` | é¢å‘çœ‹æ¿çš„è½»é‡ç»“æœé›†ï¼Œç”± `prepare_serving_data.py` ç”Ÿæˆ | CSV |```powershell

| **Dashboard** | `CoreCode6/` | äº¤äº’å¼å¯è§†åŒ–å‰å° | Streamlit |# æ¿€æ´»å¼€å‘ç¯å¢ƒï¼ˆè‡ªåŠ¨è®¾ç½® JAVA_HOME å’Œ Python è™šæ‹Ÿç¯å¢ƒï¼‰

.\scripts\dev_shell.ps1

---```



## å¿«é€Ÿå¼€å§‹### 2. æ•°æ®å‡†å¤‡

å¦‚æœ `data/serving` ç›®å½•ä¸ºç©ºï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆçœ‹æ¿æ‰€éœ€æ•°æ®ï¼š

### å‰ç½®è¦æ±‚

```bash

- Python 3.8+python scripts/prepare_serving_data.py

- Java JDK 1.8+ (ä»… Spark è®¡ç®—é˜¶æ®µéœ€è¦ï¼›çœ‹æ¿è¿è¡Œä¸ä¾èµ– Java)```



### 1. å…‹éš†ä¸åˆå§‹åŒ–### 3. å¯åŠ¨çœ‹æ¿

æ–¹å¼ä¸€ï¼šåŒå‡»æ ¹ç›®å½•ä¸‹çš„ **`å¯åŠ¨çœ‹æ¿.bat`**ã€‚

```powershell

git clone https://github.com/moyan726/EcoPulse.gitæ–¹å¼äºŒï¼šåœ¨ç»ˆç«¯æ‰§è¡Œï¼š

cd EcoPulse

```bash

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒstreamlit run CoreCode6/app.py

python -m venv .venv```



# æ¿€æ´»ç¯å¢ƒ (PowerShell)è®¿é—®æµè§ˆå™¨ [http://localhost:8501](http://localhost:8501) å³å¯ä½“éªŒã€‚

.\scripts\dev_shell.ps1

---

# å®‰è£…ä¾èµ–

pip install -r requirements.txt## ğŸ“‚ é¡¹ç›®ç»“æ„ (Project Structure)

```

```text

### 2. æ•°æ®å‡†å¤‡EcoPulse/

â”œâ”€â”€ CoreCode/           # Phase 1: æ•°æ®æ¢ç´¢ (EDA) ä¸é‡‡æ ·

å¦‚æœ `data/serving/` ç›®å½•ä¸ºç©ºï¼Œè¿è¡Œä»¥ä¸‹è„šæœ¬ä» ADS å±‚ Parquet å¯¼å‡º CSVï¼šâ”œâ”€â”€ CoreCode2/          # Phase 2: ETL æ¸…æ´—ä¸å­˜å‚¨åŸºå‡†æµ‹è¯•

â”œâ”€â”€ CoreCode3/          # Phase 3: æ ¸å¿ƒæŒ‡æ ‡è®¡ç®— (Funnel/RFM/Retention)

```powershellâ”œâ”€â”€ CoreCode4/          # Phase 4: K-Means èšç±»ä¸æ•°æ®å€¾æ–œä¼˜åŒ–

python scripts/prepare_serving_data.pyâ”œâ”€â”€ CoreCode5/          # Phase 5: æ—©æœŸçœ‹æ¿åŸå‹

```â”œâ”€â”€ CoreCode6/          # Phase 6: [Current] å·¥ç¨‹åŒ–é‡æ„åçš„å¯è§†åŒ–çœ‹æ¿

â”‚   â”œâ”€â”€ assets/         # é™æ€èµ„æº (CSS/JS)

> è¯¥è„šæœ¬ä¼šè‡ªåŠ¨å¯¹ RFM æ•°æ®æ‰§è¡Œ 8 æ®µç²¾ç»†åŒ–é‡åˆ†ç¾¤ï¼ˆChampions / Potential Loyalist / Promising / New Customers / Loyal / Need Attention / At Risk / Hibernatingï¼‰ã€‚â”‚   â”œâ”€â”€ components/     # å‰ç«¯ç»„ä»¶å°è£…

â”‚   â””â”€â”€ utils/          # æ•°æ®åŠ è½½ä¸å·¥å…·ç±»

### 3. å¯åŠ¨çœ‹æ¿â”œâ”€â”€ data/               # æ•°æ®ä»“åº“ (Raw -> Serving)

â”œâ”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£ä¸­å¿ƒ

**æ–¹å¼ä¸€** â€” åŒå‡»æ ¹ç›®å½•ä¸‹çš„ `å¯åŠ¨çœ‹æ¿.bat`â”‚   â”œâ”€â”€ design/         # æ¶æ„è®¾è®¡ä¸æŒ‡æ ‡å®šä¹‰

â”‚   â””â”€â”€ guides/         # æ“ä½œæŒ‡å—ä¸æ€§èƒ½è°ƒä¼˜

**æ–¹å¼äºŒ** â€” å‘½ä»¤è¡Œå¯åŠ¨ï¼šâ”œâ”€â”€ scripts/            # è¿ç»´ä¸è¾…åŠ©è„šæœ¬

â””â”€â”€ requirements.txt    # Python ä¾èµ–æ¸…å•

```powershell```

streamlit run CoreCode6/app.py

```---



æµè§ˆå™¨è®¿é—® [http://localhost:8501](http://localhost:8501) å³å¯ä½“éªŒã€‚## ğŸ“Š å¯è§†åŒ–å±•ç¤º (Dashboard Preview)



---EcoPulse çš„çœ‹æ¿è®¾è®¡éµå¾ª "Executive Dashboard" ç†å¿µï¼Œæä¾›æ²‰æµ¸å¼çš„æ•°æ®ä½“éªŒï¼š



## çœ‹æ¿é¡µé¢*   **æ€»è§ˆé¡µ (Overview)**: å®æ—¶ KPI ç›‘æ§ã€æµé‡è¶‹åŠ¿è¿½è¸ªã€Top å“ç‰Œæ’è¡Œã€‚

*   **è½¬åŒ–é¡µ (Funnel)**: å…¨å±€æ¼æ–—åˆ†æã€å„ç¯èŠ‚è½¬åŒ–ç‡é›·è¾¾å›¾ã€‚

| é¡µé¢ | å®šä½ | æ ¸å¿ƒç»„ä»¶ |*   **ç”¨æˆ·é¡µ (User Insights)**: 3D ç”¨æˆ·èšç±»è§†å›¾ã€RFM ä»·å€¼åˆ†å±‚ç¯å½¢å›¾ã€‚

|:-----|:-----|:---------|

| **Overview (æ€»è§ˆ)** | CEO / ç®¡ç†å±‚è§†è§’ | å››å¤§ KPI åŠ¨ç”»å¡ç‰‡ (PV / UV / è®¢å• / è½¬åŒ–ç‡) + æ¯æ—¥è¡Œä¸ºè¶‹åŠ¿æŠ˜çº¿å›¾ |> **æŠ€æœ¯äº®ç‚¹**: çœ‹æ¿é‡‡ç”¨äº† React é£æ ¼çš„ç»„ä»¶åŒ–å¼€å‘ï¼Œå†…ç½®äº† GPU åŠ é€Ÿçš„æ•°å­—é€’å¢åŠ¨ç”»ä¸å“åº”å¼å¸ƒå±€ï¼Œå®Œç¾é€‚é…ä¸åŒå°ºå¯¸å±å¹•ã€‚

| **Brand Analysis (å“ç‰Œåˆ†æ)** | å¸‚åœº / å“ç‰Œè¿è¥è§†è§’ | å“ç‰Œè½¬åŒ–æ¼æ–— + æµå¤±ç‡æ ‡æ³¨ + ç«å“é”€é‡é«˜äº®å¯¹æ¯”æŸ±çŠ¶å›¾ |

| **User Insights (ç”¨æˆ·æ´å¯Ÿ)** | CRM / æ•°æ®åˆ†æå¸ˆè§†è§’ | RFM 8 æ®µä»·å€¼åˆ†å±‚ç¯å½¢å›¾ + K-Means èšç±»é›·è¾¾å›¾ + Cohort ç•™å­˜çƒ­åŠ›å›¾ + æ˜ç»†æ•°æ®ç½‘æ ¼ |---



**åŠ¨ç”»å¼•æ“ç‰¹æ€§**ï¼š## ğŸ› ï¸ è´¡çŒ®ä¸ç»´æŠ¤ (Contribution)

- `animated_number` â€” æ•°å€¼ä» 0 é€’å¢è‡³ç›®æ ‡å€¼ï¼Œæ”¯æŒç™¾åˆ†æ¯”/æ•´æ•°/æµ®ç‚¹æ ¼å¼

- `animated_radar` â€” é›·è¾¾å›¾ä¸­å¿ƒè¾å°„å±•å¼€ï¼Œæ•°æ®ç‚¹ä¾æ¬¡å‡ºç°æœ¬é¡¹ç›®ç”± **moyan726** ç»´æŠ¤ã€‚æ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚

- `animated_bar_chart` â€” æŸ±çŠ¶å›¾è‡ªåº•å‘ä¸Šç”Ÿé•¿ + å¯é€‰å¼¹è·³æ•ˆæœ + å“ç‰Œé«˜äº®

- å…¨å±€æ§åˆ¶é¢æ¿ â€” å³ä¸‹è§’é½¿è½®å›¾æ ‡ï¼Œå¯è°ƒé€Ÿåº¦/å»¶è¿Ÿ/å¸§ç‡/reduced-motion é€‚é…*   **Bug åé¦ˆ**: è¯·é™„ä¸Šè¯¦ç»†çš„å¤ç°æ­¥éª¤ä¸æ—¥å¿—ã€‚

*   **åŠŸèƒ½å»ºè®®**: æ¬¢è¿åœ¨ Discussion åŒºè®¨è®ºæ–°çš„åˆ†ææ¨¡å‹ã€‚

---

---

## é¡¹ç›®ç»“æ„

**EcoPulse** Â© 2026. All Rights Reserved.

```text
EcoPulse/
â”œâ”€â”€ CoreCode/                  # Phase 1: æ•°æ®æ¢ç´¢ä¸é‡‡æ ·
â”‚   â”œâ”€â”€ sample_data.py         #   CSV â†’ Parquet é«˜æ€§èƒ½é‡‡æ ·
â”‚   â”œâ”€â”€ eda_analysis.py        #   æ¢ç´¢æ€§æ•°æ®åˆ†æ (è¡Œä¸ºåˆ†å¸ƒ/ç¼ºå¤±ç‡/ä»·æ ¼åˆ†ä½)
â”‚   â”œâ”€â”€ data_quality.py        #   æ•°æ®è´¨é‡å®¡è®¡ (å¼‚å¸¸å€¼/åˆ†å¸ƒå€¾æ–œ)
â”‚   â””â”€â”€ test_spark.py          #   Spark ç¯å¢ƒéªŒè¯
â”‚
â”œâ”€â”€ CoreCode2/                 # Phase 2: ETL æ¸…æ´—ä¸æ•°ä»“æ„å»º
â”‚   â”œâ”€â”€ etl_dwd_user_behavior.py  # DWD æ˜ç»†å±‚ (å»é‡/å¼‚å¸¸æ ‡è®°/æ—¥æœŸåˆ†åŒº)
â”‚   â””â”€â”€ benchmark_storage.py      # CSV vs Parquet æ€§èƒ½åŸºå‡†
â”‚
â”œâ”€â”€ CoreCode3/                 # Phase 3: ä¸šåŠ¡æŒ‡æ ‡è®¡ç®— (ADS å±‚)
â”‚   â”œâ”€â”€ analysis_rfm.py        #   RFM ç”¨æˆ·åˆ†å±‚æ¨¡å‹
â”‚   â”œâ”€â”€ analysis_funnel.py     #   View â†’ Cart â†’ Purchase è½¬åŒ–æ¼æ–—
â”‚   â”œâ”€â”€ analysis_retention.py  #   Cohort ç•™å­˜åˆ†æ
â”‚   â””â”€â”€ verify_ads.py          #   ADS å±‚äº¤å‰éªŒè¯
â”‚
â”œâ”€â”€ CoreCode4/                 # Phase 4: æœºå™¨å­¦ä¹ ä¸æ€§èƒ½ä¼˜åŒ–
â”‚   â”œâ”€â”€ ml_kmeans_clustering.py   # K-Means ç”¨æˆ·èšç±» (K=4, Silhouette=0.478)
â”‚   â”œâ”€â”€ perf_skew_optimization.py # æ•°æ®å€¾æ–œæ²»ç† (ä¸¤é˜¶æ®µåŠ ç›èšåˆ)
â”‚   â””â”€â”€ benchmark_storage.py      # Phase 4 å­˜å‚¨æ€§èƒ½å¤æµ‹
â”‚
â”œâ”€â”€ CoreCode5/                 # Phase 5: Serving å±‚å¯¼å‡º
â”‚   â”œâ”€â”€ export_to_serving.py   #   Spark æ‰¹é‡å¯¼å‡º ADS â†’ CSV
â”‚   â””â”€â”€ dashboard_app.py       #   æ—©æœŸçœ‹æ¿åŸå‹
â”‚
â”œâ”€â”€ CoreCode6/                 # Phase 6: å·¥ç¨‹åŒ–å¯è§†åŒ–çœ‹æ¿ [å½“å‰ä¸»åŠ›]
â”‚   â”œâ”€â”€ app.py                 #   ä¸»å…¥å£ â€” Overview æ€»è§ˆé¡µ
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ 1_Brand_Analysis.py   # å“ç‰Œæ·±åº¦åˆ†æé¡µ
â”‚   â”‚   â””â”€â”€ 2_User_Insights.py    # ç”¨æˆ·ç”»åƒæ´å¯Ÿé¡µ
â”‚   â”œâ”€â”€ src/dashboard/
â”‚   â”‚   â”œâ”€â”€ animations.py      #   JS åŠ¨ç”»å¼•æ“ (requestAnimationFrame)
â”‚   â”‚   â””â”€â”€ utils.py           #   CSS/æ•°æ®åŠ è½½/Plotly ä¸»é¢˜
â”‚   â”œâ”€â”€ benchmark/
â”‚   â”‚   â””â”€â”€ benchmark_corecode6.py  # æ•°æ®å®Œæ•´æ€§ & æ€§èƒ½éªŒè¯
â”‚   â””â”€â”€ requirements.txt       #   çœ‹æ¿ä¾èµ–æ¸…å•
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ row/                   # åŸå§‹ CSV (7 ä¸ªæœˆåº¦æ–‡ä»¶, 2 äº¿+æ¡)
â”‚   â”œâ”€â”€ dwd/                   # DWD æ˜ç»†å±‚ (Parquet åˆ†åŒº)
â”‚   â”œâ”€â”€ ads/                   # ADS æŒ‡æ ‡å±‚ (Parquet)
â”‚   â””â”€â”€ serving/               # Serving å±‚ (CSV, ä¾›çœ‹æ¿è¯»å–)
â”‚       â”œâ”€â”€ funnel_stats.csv   #   æ¼æ–—ç»Ÿè®¡ (154 è¡Œ)
â”‚       â”œâ”€â”€ user_retention.csv #   ç”¨æˆ·ç•™å­˜ (496 è¡Œ)
â”‚       â”œâ”€â”€ user_rfm.csv       #   RFM åˆ†å±‚ (347,118 è¡Œ, 8 æ®µåˆ†ç¾¤)
â”‚       â””â”€â”€ user_clusters.csv  #   K-Means èšç±» (347,118 è¡Œ, 4 ç°‡)
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ dev_shell.ps1          # ç¯å¢ƒæ¿€æ´» (JAVA_HOME + venv)
â”‚   â”œâ”€â”€ prepare_serving_data.py # ADS Parquet â†’ Serving CSV (å« RFM é‡åˆ†ç¾¤)
â”‚   â””â”€â”€ count_data_rows.py     # å¤šè¿›ç¨‹å¤§æ–‡ä»¶è¡Œæ•°ç»Ÿè®¡
â”‚
â”œâ”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ design/                #   æ¶æ„è®¾è®¡ / æŒ‡æ ‡å®šä¹‰ / ç®—æ³•åŸç†
â”‚   â”œâ”€â”€ guides/                #   æ“ä½œæŒ‡å— / æ€§èƒ½è°ƒä¼˜
â”‚   â””â”€â”€ rules/                 #   æ•°æ®æ²»ç†è§„èŒƒ
â”‚
â”œâ”€â”€ preparedoc/                # å­¦æœ¯è§„åˆ’æ–‡æ¡£ (é€‰é¢˜/å¼€é¢˜/è®ºæ–‡æ¡†æ¶)
â”œâ”€â”€ ProjectDescription/        # é¡¹ç›®åç§°ä¸æ•°æ®è¯´æ˜
â”œâ”€â”€ å¯åŠ¨çœ‹æ¿.bat                # ä¸€é”®å¯åŠ¨çœ‹æ¿
â”œâ”€â”€ é¡¹ç›®æ—¶é—´è½¨è¿¹.md             # å¼€å‘æ—¶é—´çº¿
â”œâ”€â”€ é¡¹ç›®å¼€å‘æ€»è¿›ç¨‹è¯´æ˜.md        # é¡¹ç›®æ€»è§ˆä¸ç›®å½•ç´¢å¼•
â”œâ”€â”€ requirements.txt           # å…¨å±€ Python ä¾èµ–
â””â”€â”€ environment.yml            # Conda ç¯å¢ƒé…ç½®
```

---

## å…³é”®æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ |
|:-----|:-----|
| åŸå§‹æ•°æ®æ€»é‡ | **2 äº¿+** æ¡ç‚¹å‡»æµè®°å½• (7 ä¸ªæœˆåº¦ CSV) |
| DWD å±‚å¤„ç†é‡ | **4,241.8 ä¸‡** æ¡ (å»é‡ 3 ä¸‡ / æ ‡è®°å¼‚å¸¸ 6.8 ä¸‡) |
| Parquet vs CSV å•åˆ—èšåˆ | å¿« **3.6 å€** (1.22s vs 4.40s) |
| Parquet vs CSV æ¡ä»¶è¿‡æ»¤ | å¿« **17.5 å€** (0.24s vs 4.21s) |
| æ•°æ®å€¾æ–œä¼˜åŒ– (Salting) | æ€§èƒ½æå‡ **16.3%** (4.45s â†’ 3.73s) |
| K-Means æœ€ä½³è½®å»“ç³»æ•° | **0.478** (K=4) |
| Serving æ•°æ®åŠ è½½ (4 CSV) | **69.5 ä¸‡è¡Œ / 0.31 ç§’** |
| RFM ç”¨æˆ·åˆ†ç¾¤ | **8 æ®µ** (Champions â†’ Hibernating) |
| å…¨ç«™è½¬åŒ–ç‡ (Session å£å¾„) | **6.8%** |
| æ¬¡æ—¥ç•™å­˜ç‡ | **17.3%** |

---

## æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|:-----|:-----|
| åˆ†å¸ƒå¼è®¡ç®— | PySpark 3.5.3 |
| æ•°æ®å­˜å‚¨ | Parquet (Snappy) + æ—¥æœŸåˆ†åŒº |
| æœºå™¨å­¦ä¹  | Spark MLlib (K-Means / QuantileDiscretizer) |
| å¯è§†åŒ–æ¡†æ¶ | Streamlit â‰¥ 1.41 + Plotly â‰¥ 5.20 |
| åŠ¨ç”»å¼•æ“ | åŸç”Ÿ JavaScript (requestAnimationFrame) |
| æ•°æ®å¤„ç† | Pandas â‰¥ 2.0 + PyArrow â‰¥ 17.0 |
| ç¯å¢ƒç®¡ç† | Python venv / Conda |
| ç‰ˆæœ¬æ§åˆ¶ | Git + GitHub |

---

## å¼€å‘é˜¶æ®µ

| é˜¶æ®µ | ç›®å½• | æ ¸å¿ƒäº§å‡º |
|:-----|:-----|:---------|
| Phase 1 â€” æ•°æ®æ‘¸åº• | `CoreCode/` | æ•°æ®é‡‡æ · + EDA ç”»åƒ + è´¨é‡å®¡è®¡ |
| Phase 2 â€” ETL æ¸…æ´— | `CoreCode2/` | DWD æ˜ç»†å±‚ + å­˜å‚¨æ€§èƒ½åŸºå‡† |
| Phase 3 â€” æŒ‡æ ‡è®¡ç®— | `CoreCode3/` | RFM åˆ†å±‚ + è½¬åŒ–æ¼æ–— + ç•™å­˜åˆ†æ + ADS æ ¡éªŒ |
| Phase 4 â€” ML ä¼˜åŒ– | `CoreCode4/` | K-Means èšç±» + æ•°æ®å€¾æ–œæ²»ç† |
| Phase 5 â€” æ•°æ®å¯¼å‡º | `CoreCode5/` | Serving å±‚è‡ªåŠ¨åŒ–å¯¼å‡º |
| Phase 6 â€” å¯è§†åŒ– | `CoreCode6/` | å·¥ç¨‹åŒ–äº¤äº’çœ‹æ¿ (åŠ¨ç”»å¼•æ“ + æ·±è‰²ä¸»é¢˜) |

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºã€‚

**EcoPulse** Â© 2026 moyan726
